# PYTHONPATH must include directory above plugin directory.
#     Define either externally or here, then import plugin.
sys.path.insert(0, './..')
import ugamp

molecule {
0 1
 O     -0.028962160801    -0.694396279686    -0.049338350190
 O      0.028962160801     0.694396279686    -0.049338350190
 H      0.350498145881    -0.910645626300     0.783035421467
 H     -0.350498145881     0.910645626300     0.783035421467
symmetry c1
}

set {
  freeze_core false
  basis aug-cc-pVDZ
#  r_convergence 1e-15
#  e_convergence 1e-15
  maxiter 1000
#  omega [589, nm]
#  gauge both
  fvno true
  freeze_type occupation
  occ_tol 1e-3
  occ_tolerance 1e-3
#  num_frzv 1
#  frozen_uocc [0]
#  spatial_tol 9.0
}

#energy('fno-ccsd')
energy('ugamp', wfn='mp2')
psi4.set_global_option('WFN', 'CCSD')
mints = psi4.MintsHelper()
mints.integrals()
psi4.transqt2()
psi4.ccsort()
psi4.ccenergy()

#table = Table(rows=("\# Frozen Virtuals"), cols=("Unperturbed", "Canonical"))

#for x in range(0, 10):
#    set frozen_uocc [$x]
#    set num_frzv $x   
#    property('ccsd',properties=['polarizability'])
#    canpolar = get_variable("CCSD Dipole Polarizability")*3.0
#    clean()
#    energy('ugamp',wfn='mp2')
#    psi4.set_global_option('WFN', 'CCSD')
#    psi4.set_global_option('DERTYPE', 'RESPONSE')
#    psi4.set_global_option('PROPERTY', 'POLARIZABILITY')
#    mints = psi4.MintsHelper()
#    mints.integrals()
#    psi4.transqt2()
#    psi4.ccsort()
#    psi4.ccenergy()
#    psi4.cchbar()
#    psi4.cclambda()
#    psi4.ccresponse()
#    fvnopolar = get_variable("CCSD Dipole Polarizability")*3.0
#    clean()
#    table[x] = [fvnopolar, canpolar]
#
#print_out(str(table))


#energy('ccsd')

